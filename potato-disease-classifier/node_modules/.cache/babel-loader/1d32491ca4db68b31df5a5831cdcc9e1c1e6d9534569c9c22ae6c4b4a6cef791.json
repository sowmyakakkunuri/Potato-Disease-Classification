{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\plant\\\\Potato_model\\\\potato-disease-classifier\\\\src\\\\components\\\\ImageUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ClearButton from \"./ClearButton\";\nimport ResultTable from \"./ResultTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUpload = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [data, setData] = useState();\n  const [image, setImage] = useState(false);\n  const [isLoading, setIsloading] = useState(false);\n  const sendFile = async () => {\n    if (image) {\n      let formData = new FormData();\n      formData.append(\"file\", selectedFile);\n      let res = await axios.post(process.env.REACT_APP_API_URL, formData);\n      if (res.status === 200) {\n        setData(res.data);\n      }\n      setIsloading(false);\n    }\n  };\n  const clearData = () => {\n    setData(null);\n    setImage(false);\n    setSelectedFile(null);\n    setPreview(null);\n  };\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n  }, [selectedFile]);\n  useEffect(() => {\n    if (!preview) {\n      return;\n    }\n    setIsloading(true);\n    sendFile();\n  }, [preview]);\n  const onSelectFile = files => {\n    if (!files || files.length === 0) {\n      setSelectedFile(undefined);\n      setImage(false);\n      setData(undefined);\n      return;\n    }\n    setSelectedFile(files[0]);\n    setData(undefined);\n    setImage(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen bg-cover bg-center\",\n    style: {\n      backgroundImage: `url('\\src\\bg_farmer.jpg')`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 backdrop-blur-lg bg-black/30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-sm w-full bg-white/20 backdrop-blur-lg p-4 rounded-lg shadow-lg\",\n      children: [!image && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: e => onSelectFile(e.target.files)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-300\",\n          children: \"Drag and drop an image of a potato plant leaf to process\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), image && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: preview,\n          alt: \"Selected\",\n          className: \"w-full h-64 object-cover rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\",\n          children: \"Processing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), data && /*#__PURE__*/_jsxDEV(ResultTable, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 18\n      }, this), data && /*#__PURE__*/_jsxDEV(ClearButton, {\n        clearData: clearData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageUpload, \"p1BRq7Tmm6inri8+YlWXidhXSHc=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","useState","useEffect","axios","ClearButton","ResultTable","jsxDEV","_jsxDEV","ImageUpload","_s","selectedFile","setSelectedFile","preview","setPreview","data","setData","image","setImage","isLoading","setIsloading","sendFile","formData","FormData","append","res","post","process","env","REACT_APP_API_URL","status","clearData","undefined","objectUrl","URL","createObjectURL","onSelectFile","files","length","className","style","backgroundImage","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","e","target","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/user/plant/Potato_model/potato-disease-classifier/src/components/ImageUpload.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport ClearButton from \"./ClearButton\";\r\nimport ResultTable from \"./ResultTable\";\r\n\r\nconst ImageUpload = () => {\r\n  const [selectedFile, setSelectedFile] = useState();\r\n  const [preview, setPreview] = useState();\r\n  const [data, setData] = useState();\r\n  const [image, setImage] = useState(false);\r\n  const [isLoading, setIsloading] = useState(false);\r\n\r\n  const sendFile = async () => {\r\n    if (image) {\r\n      let formData = new FormData();\r\n      formData.append(\"file\", selectedFile);\r\n      let res = await axios.post(process.env.REACT_APP_API_URL, formData);\r\n      if (res.status === 200) {\r\n        setData(res.data);\r\n      }\r\n      setIsloading(false);\r\n    }\r\n  };\r\n\r\n  const clearData = () => {\r\n    setData(null);\r\n    setImage(false);\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!selectedFile) {\r\n      setPreview(undefined);\r\n      return;\r\n    }\r\n    const objectUrl = URL.createObjectURL(selectedFile);\r\n    setPreview(objectUrl);\r\n  }, [selectedFile]);\r\n\r\n  useEffect(() => {\r\n    if (!preview) {\r\n      return;\r\n    }\r\n    setIsloading(true);\r\n    sendFile();\r\n  }, [preview]);\r\n\r\n  const onSelectFile = (files) => {\r\n    if (!files || files.length === 0) {\r\n      setSelectedFile(undefined);\r\n      setImage(false);\r\n      setData(undefined);\r\n      return;\r\n    }\r\n    setSelectedFile(files[0]);\r\n    setData(undefined);\r\n    setImage(true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"flex flex-col items-center justify-center min-h-screen bg-cover bg-center\"\r\n      style={{\r\n        backgroundImage: `url('\\src\\bg_farmer.jpg')`,\r\n      }}\r\n    >\r\n      {/* Blur effect overlay */}\r\n      <div className=\"absolute inset-0 backdrop-blur-lg bg-black/30\"></div>\r\n\r\n      <div className=\"max-w-sm w-full bg-white/20 backdrop-blur-lg p-4 rounded-lg shadow-lg\">\r\n        {!image && (\r\n          <div className=\"p-6 text-center\">\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={(e) => onSelectFile(e.target.files)}\r\n            />\r\n            <p className=\"mt-2 text-sm text-gray-300\">\r\n              Drag and drop an image of a potato plant leaf to process\r\n            </p>\r\n          </div>\r\n        )}\r\n        {image && (\r\n          <div>\r\n            <img\r\n              src={preview}\r\n              alt=\"Selected\"\r\n              className=\"w-full h-64 object-cover rounded-lg\"\r\n            />\r\n          </div>\r\n        )}\r\n        {isLoading && (\r\n          <div className=\"text-center mt-4\">\r\n            <div className=\"loader\">Processing...</div>\r\n          </div>\r\n        )}\r\n        {data && <ResultTable data={data} />}\r\n        {data && <ClearButton clearData={clearData} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}